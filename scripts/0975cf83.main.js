"use strict";var Photo=Backbone.Model.extend({idAttribute:"_id",defaults:{caption:"Awesome!!",url:"http://37.media.tumblr.com/tumblr_mdgfpehkYN1r8cvzdo1_500.gif"}}),PhotoCollection=Backbone.Collection.extend({model:Photo,url:"http://tiny-pizza-server.herokuapp.com/collections/photos"}),ThumbnailView=Backbone.View.extend({className:"thumbnail",thumbnailTemplate:_.template($(".thumbnail-template").text()),events:{click:"showDetailView"},initialize:function(){$(".galleryContainer").append(this.el),this.render()},render:function(){if(this.model.attributes.hasOwnProperty("url")){var a=this.thumbnailTemplate(this.model.attributes);this.$el.html(a)}},showDetailView:function(){var a=new DetailView({model:this.model});$(".galleryContainer").append(a)}}),DetailView=Backbone.View.extend({className:"detail",detailTemplate:_.template($(".detail-template").text()),initialize:function(){$(".selectedContainer").empty(),$(".selectedContainer").append(this.el),this.render()},render:function(){var a=this.detailTemplate(this.model.attributes);this.$el.html(a).hide().fadeIn(1e3)}}),AppView=Backbone.View.extend({initialize:function(){this.listenTo(coolPhotos,"add",function(a){new ThumbnailView({model:a})})}}),appRouter=Backbone.Router.extend({routes:{"photos/:id":"renderDetail","new":"renderNew"},initialize:function(){console.log("The router has started")},renderDetail:function(a){{var b=coolPhotos.get(a);new DetailView({model:b})}}}),coolPhotos=new PhotoCollection,app=new AppView;coolPhotos.fetch();var router=new appRouter;Backbone.history.start();